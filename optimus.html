<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OptimusXtream</title>
<style>
/* Reset & Body */
body{margin:0;height:100vh;font-family:"Poppins",sans-serif;color:#00ffff;overflow-x:hidden;background:radial-gradient(circle at center,#001122,#000814);}

/* Canvas for 3D */
canvas{position:fixed;top:0;left:0;z-index:-1;}

/* Menu */
.menu{position:absolute;top:20px;left:50%;transform:translateX(-50%);z-index:20;}
.menu-list{list-style:none;margin:0;padding:0;display:flex;gap:40px;font-weight:bold;color:#00ffff;}
.menu-item{position:relative;cursor:pointer;padding:5px 10px;transition:color 0.3s,text-shadow 0.3s;}
.menu-item:hover{color:#ff3;text-shadow:0 0 10px #ff3,0 0 20px #00ffff;}
.submenu{position:absolute;top:35px;left:0;list-style:none;background:rgba(0,0,0,0.85);padding:10px 0;min-width:150px;border-radius:10px;opacity:0;pointer-events:none;transform:translateY(-10px);transition:opacity 0.3s,transform 0.3s;}
.submenu li{padding:8px 15px;white-space:nowrap;color:#00ffff;transition:background 0.3s,color 0.3s;}
.submenu li:hover{background:#00ffff20;color:#ff3;}
.menu-item:hover .submenu{opacity:1;pointer-events:auto;transform:translateY(0);}

/* Main Intro */
.container{position:relative;text-align:center;z-index:5;margin-top:100px;}
.optimus-left,.optimus-right{position:absolute;top:50%;font-size:3em;font-weight:bold;color:#ff3;opacity:0;transform:translateY(-50%);}
.optimus-left{left:50%;animation:leftEnter 2s ease-in-out 0.5s forwards,leftExit 2s ease-in-out 2.5s forwards;}
.optimus-right{right:50%;animation:rightEnter 2s ease-in-out 0.5s forwards,rightExit 2s ease-in-out 2.5s forwards;}
@keyframes leftEnter{from{opacity:0;transform:translate(50%,-50%);}to{opacity:1;transform:translate(0,-50%);}}
@keyframes rightEnter{from{opacity:0;transform:translate(-50%,-50%);}to{opacity:1;transform:translate(0,-50%);}}
@keyframes leftExit{from{opacity:1;transform:translate(0,-50%);}to{opacity:0;transform:translate(-200px,-50%) rotate(-10deg);}}
@keyframes rightExit{from{opacity:1;transform:translate(0,-50%);}to{opacity:0;transform:translate(200px,-50%) rotate(10deg);}}

.oo{font-size:6em;font-weight:bold;color:#00ffff;position:relative;opacity:0;animation:ooAppear 1.5s ease-in-out 4s forwards,infinityMove 3s ease-in-out 5.5s infinite;text-shadow:0 0 20px #00ffff,0 0 40px #00ffff;}
@keyframes ooAppear{from{opacity:0;transform:scale(0) rotate(0deg);}to{opacity:1;transform:scale(1.1) rotate(0deg);}}
@keyframes infinityMove{0%,100%{transform:rotate(0deg) scale(1);}25%{transform:rotate(15deg) scale(1.1);}50%{transform:rotate(-15deg) scale(1.1);}75%{transform:rotate(10deg) scale(1);}}

.xtream{font-size:4em;font-weight:bold;color:#ff0066;letter-spacing:4px;opacity:0;animation:fadeInXtream 2s ease-in 7s forwards;text-shadow:0 0 20px #ff3,0 0 40px #ff0066;}
@keyframes fadeInXtream{from{opacity:0;transform:scale(0.7);}to{opacity:1;transform:scale(1);}}

.xtream-description{font-size:1.3em;color:#00ffff;opacity:0;margin-top:20px;letter-spacing:1.2px;text-shadow:0 0 8px #00ffff;animation:fadeInDescription 1s ease-in 9s forwards;}
@keyframes fadeInDescription{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

.word{opacity:0;display:inline-block;animation:fadeWord 0.8s forwards;}
@keyframes fadeWord{
  from{opacity:0;filter:blur(6px);transform:translateY(10px);}
  to{opacity:1;filter:blur(0);transform:translateY(0);}
}

/* Features */
.features{position:relative;z-index:5;margin-top:50px;display:flex;justify-content:center;flex-wrap:wrap;gap:30px;}
.feature-card{background:rgba(0,0,0,0.7);border:1px solid #00ffff50;padding:20px;width:200px;border-radius:15px;color:#00ffff;transition:transform 0.3s,box-shadow 0.3s,text-shadow 0.3s;text-align:center;}
.feature-card:hover{transform:translateY(-10px);box-shadow:0 0 20px #00ffff,0 0 40px #ff3;text-shadow:0 0 5px #00ffff;}

/* Chat */
.chat-container{margin-top:40px;width:400px;background:rgba(0,0,0,0.9);border-radius:20px;padding:15px;color:#00ffff;font-family:"Poppins",sans-serif;display:inline-block;opacity:0;animation:chatFadeIn 1s ease-in 10s forwards;}
@keyframes chatFadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
.chat-box{max-height:220px;overflow-y:auto;margin-bottom:10px;padding:10px;border-radius:15px;background:rgba(0,0,0,0.6);}
.chat-message{margin:5px 0;padding:5px 10px;border-radius:10px;}
.chat-message.user{text-align:right;color:#000;background:#00ffff80;}
.chat-message.bot{text-align:left;color:#00ffff;background:#ff006680;}
#chat-input{width:70%;padding:8px;border-radius:10px;border:1px solid #00ffff;background:rgba(0,0,0,0.5);color:#00ffff;}
#chat-send{width:25%;padding:8px;margin-left:5px;border-radius:10px;border:none;background:#00ffff;color:#000;cursor:pointer;}
#chat-send:hover{background:#ff3;}
</style>
</head>
<body>

<!-- Menu -->
<nav class="menu">
<ul class="menu-list">
<li class="menu-item">Home</li>
<li class="menu-item">About<ul class="submenu"><li>Vision</li><li>Team</li><li>History</li></ul></li>
<li class="menu-item">Services<ul class="submenu"><li>Design</li><li>Development</li><li>Consulting</li></ul></li>
<li class="menu-item">Contact</li>
</ul>
</nav>

<div class="container">
  <div class="optimus-left">OPTIMUS</div>
  <div class="optimus-right">OPTIMUS</div>
  <div class="oo">oo</div>
  <div class="xtream">Xtream</div>
  <div class="xtream-description">
    <span id="typewriter"></span>
  </div>

  <!-- Chat box under Xtream description -->
  <div class="chat-container">
    <div id="chat-box" class="chat-box"></div>
    <input id="chat-input" type="text" placeholder="Ask Xtream..."/>
    <button id="chat-send">Send</button>
  </div>
</div>

<div class="features">
  <div class="feature-card">Fast Performance</div>
  <div class="feature-card">Cloud Sync</div>
  <div class="feature-card">AI Powered</div>
  <div class="feature-card">Customizable UI</div>
  <div class="feature-card">Secure & Reliable</div>
</div>

<audio id="bg-music" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" autoplay></audio>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
// ================= Fade-in Word Animation =================
const descriptionText = "I'm Xtream â€” born from Optimus, a new creature that will change the world.";
const words = descriptionText.split(" ");
const typewriter = document.getElementById("typewriter");

words.forEach((word, i) => {
  const span = document.createElement("span");
  span.textContent = word + " ";
  span.className = "word";
  span.style.animationDelay = `${i * 0.4}s`; // each word appears later
  typewriter.appendChild(span);
});

// ================= Music hover =================
const bgMusic = document.getElementById("bg-music"); 
bgMusic.volume = 0.2;
document.querySelectorAll('.menu-item').forEach(item=>{
  item.addEventListener('mouseenter',()=>{bgMusic.volume=0.5;});
  item.addEventListener('mouseleave',()=>{bgMusic.volume=0.2;});
});

// ================= 3D Background =================
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
const renderer = new THREE.WebGLRenderer({canvas:document.createElement('canvas'),alpha:true});
document.body.appendChild(renderer.domElement);
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);

const light = new THREE.PointLight(0x00ffff,2); 
light.position.set(0,5,10); 
scene.add(light); 
scene.add(new THREE.AmbientLight(0x003366,0.5));

const cubes = [];
const geo = new THREE.BoxGeometry(1,1,1);
for(let i=0;i<50;i++){
  const mat = new THREE.MeshStandardMaterial({color:new THREE.Color(`hsl(${Math.random()*360},100%,60%)`),emissive:0x001133});
  const cube = new THREE.Mesh(geo,mat);
  cube.position.set((Math.random()-0.5)*40,Math.random()*30+10,(Math.random()-0.5)*30);
  cube.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,0);
  cube.scale.setScalar(Math.random()*0.8+0.2);
  scene.add(cube); cubes.push(cube);
}
camera.position.z=25;
function animate(){
  requestAnimationFrame(animate);
  cubes.forEach(c=>{
    c.rotation.x+=0.01;
    c.rotation.y+=0.01;
    c.position.y-=0.05;
    if(c.position.y<-15){
      c.position.y=Math.random()*25+15;
      c.position.x=(Math.random()-0.5)*40;
    }
  });
  renderer.render(scene,camera);
}
animate();
window.addEventListener('resize',()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});

// ================= Chat Hugging Face =================
const chatBox=document.getElementById('chat-box');
const chatInput=document.getElementById('chat-input');
const chatSend=document.getElementById('chat-send');

async function sendMessage(){
  const userMessage=chatInput.value.trim();
  if(!userMessage) return;

  const userDiv=document.createElement('div');
  userDiv.className='chat-message user';
  userDiv.textContent=userMessage;
  chatBox.appendChild(userDiv);
  chatBox.scrollTop=chatBox.scrollHeight;
  chatInput.value="";

  const botDiv=document.createElement('div');
  botDiv.className='chat-message bot';
  botDiv.textContent="Xtream is thinking...";
  chatBox.appendChild(botDiv);
  chatBox.scrollTop=chatBox.scrollHeight;

  let attempts=0,maxAttempts=3,success=false;
  while(attempts<maxAttempts && !success){
    attempts++;
    try{
      const res=await fetch("https://api-inference.huggingface.co/models/tiiuae/falcon-7b-instruct",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({inputs:userMessage})
      });
      const data=await res.json();
      let botText="Sorry, no response";
      if(Array.isArray(data) && data[0]?.generated_text) botText=data[0].generated_text;
      else if(data?.generated_text) botText=data.generated_text;
      else if(data?.error) botText="Error: "+data.error;
      botDiv.textContent=botText;
      success=true;
      chatBox.scrollTop=chatBox.scrollHeight;
    }catch(e){console.error(e); if(attempts===maxAttempts){botDiv.textContent="Network busy or error. Try again later."; chatBox.scrollTop=chatBox.scrollHeight;}}
  }
}

chatSend.addEventListener('click',sendMessage);
chatInput.addEventListener('keydown',e=>{if(e.key==='Enter')sendMessage();});
</script>
</body>
</html>
